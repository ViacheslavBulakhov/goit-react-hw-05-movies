{"version":3,"file":"static/js/375.1739cb73.chunk.js","mappings":"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","sources":["components/FilmList/FilmList.jsx","components/searchbar/Searchbar.styled.jsx","components/searchbar/Searchbar.jsx","pages/Movies.jsx","service/ApiService.js"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\n\nexport const FilmList = ({ films }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {films.map(({ id, title, name }) => (\n        <li key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {title ?? name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import styled from \"styled-components\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\n\nexport const SearchbarWrap = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  background-color: inherit;\n  border: 0;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  &:hover {\n    opacity: 1;\n  }\n`;\nexport const SearchFormIcon = styled(AiOutlineSearch)`\n  width: 20px;\n  height: 20px;\n  color: #000000;\n`;\n\nexport const SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n","import { useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport {\n  SearchbarWrap,\n  SearchForm,\n  SearchFormButton,\n  SearchFormIcon,\n  SearchFormInput,\n} from './Searchbar.styled';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  return (\n    <SearchbarWrap>\n      <SearchForm onSubmit={onSubmit}>\n        <SearchFormButton type=\"submit\">\n          <SearchFormIcon />\n        </SearchFormButton>\n\n        <SearchFormInput\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search Movies\"\n          onChange={e =>\n            e.target.value.trim() !== ''\n              ? setSearchParams({ query: e.target.value.trim() })\n              : setSearchParams({})\n          }\n          value={searchParams.get('query') ?? ''}\n        />\n      </SearchForm>\n    </SearchbarWrap>\n  );\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport axios from 'axios';\nimport Notiflix from 'notiflix';\n\nimport Searchbar from 'components/searchbar/Searchbar';\nimport Loader from '../components/loader/Loader';\nimport ApiServices from 'service/ApiService';\nimport { FilmList } from 'components/FilmList/FilmList';\n\nexport default function Movies() {\n  const [films, setFilms] = useState([]);\n  const [searchParams] = useSearchParams();\n  const [isLoader, setIsLoader] = useState(false);\n\n  const [searchValue, setSearchValue] = useState(\n    () => searchParams.get('query') ?? ''\n  );\n\n  useEffect(() => {\n    if (searchValue === '') {\n      return;\n    }\n\n    async function fetchTrendMovies() {\n      setIsLoader(true);\n      try {\n        const response = await axios.get(\n          ApiServices({ type: 'moviesUrl', value: searchValue })\n        );\n\n        if (response.data.results.length === 0) {\n          Notiflix.Notify.failure(\n            'Sorry, there are no images matching your search query. Please try again.'\n          );\n          return;\n        }\n\n        setFilms(response.data);\n        setIsLoader(false);\n      } catch (error) {\n        setIsLoader(false);\n        console.log(error.message);\n      }\n    }\n\n    fetchTrendMovies();\n  }, [searchValue]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!searchParams.get('query')) {\n      Notiflix.Notify.warning(\n        'Serach field is empty,please write something and try again.'\n      );\n    }\n    setSearchValue(searchParams.get('query') ?? '');\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={handleSubmit} />\n      {isLoader && <Loader />}\n      {films.results?.length > 0 && <FilmList films={films.results} />}\n    </>\n  );\n}\n","const API_KEY = '663a9254ccdd905d0193e78c0f67091c';\nconst mediaType = 'all';\nconst timeWindow = 'day';\n\nexport default function ApiServices({ value, type }) {\n  switch (type) {\n    case 'homePageUrl':\n      return `https://api.themoviedb.org/3/trending/${mediaType}/${timeWindow}?api_key=${API_KEY}`;\n    case 'filmDetailsPageUrl':\n      return `https://api.themoviedb.org/3/movie/${value}?api_key=${API_KEY}`;\n\n    case 'moviesUrl':\n      return `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${value}`;\n\n    default:\n      console.log('type undefined');\n      break;\n  }\n}\n"],"names":["FilmList","films","location","useLocation","map","id","title","name","to","state","from","SearchbarWrap","styled","SearchForm","SearchFormButton","SearchFormIcon","AiOutlineSearch","SearchFormInput","Searchbar","onSubmit","useSearchParams","searchParams","setSearchParams","type","autoComplete","autoFocus","placeholder","onChange","e","target","value","trim","query","get","Movies","useState","setFilms","isLoader","setIsLoader","searchValue","setSearchValue","useEffect","axios","ApiServices","response","data","results","length","Notiflix","console","log","message","fetchTrendMovies","preventDefault","Loader","API_KEY"],"sourceRoot":""}